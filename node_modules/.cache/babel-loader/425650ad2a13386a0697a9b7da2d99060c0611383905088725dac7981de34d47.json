{"ast":null,"code":"var _jsxFileName = \"D:\\\\ThinkFast\\\\frontend\\\\src\\\\components\\\\ProtectedRoute.js\";\n// import React from \"react\";\n// import { Navigate } from \"react-router-dom\";\n\n// export default function ProtectedRoute({ allowedRoles, children }) {\n//   const token = localStorage.getItem(\"token\");\n//   const role = localStorage.getItem(\"role\");\n\n//   // Not logged in → send to login\n//   if (!token) {\n//     return <Navigate to=\"/login\" replace />;\n//   }\n\n//   // Role is not allowed → send to its dashboard\n//   if (!allowedRoles.includes(role)) {\n//     if (role === \"admin\") return <Navigate to=\"/admin\" replace />;\n//     if (role === \"student\") return <Navigate to=\"/student\" replace />;\n//   }\n\n//   return children;\n// }\n\nimport React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProtectedRoute({\n  children,\n  allowedRoles\n}) {\n  const token = localStorage.getItem(\"token\");\n  const role = localStorage.getItem(\"role\");\n\n  // Agar token nahi hai → login pe bhejo\n  if (!token) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Agar allowedRoles pass kiye gaye hain aur user ka role match nahi karta\n  if (allowedRoles && !allowedRoles.includes(role)) {\n    // Admin ho to admin dashboard, student ho to student dashboard\n    const redirectPath = role === \"admin\" ? \"/admin\" : \"/student\";\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: redirectPath,\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Sab theek hai → page dikhao\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false);\n}\n_c = ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","Navigate","jsxDEV","_jsxDEV","Fragment","_Fragment","ProtectedRoute","children","allowedRoles","token","localStorage","getItem","role","to","replace","fileName","_jsxFileName","lineNumber","columnNumber","includes","redirectPath","_c","$RefreshReg$"],"sources":["D:/ThinkFast/frontend/src/components/ProtectedRoute.js"],"sourcesContent":["// import React from \"react\";\r\n// import { Navigate } from \"react-router-dom\";\r\n\r\n// export default function ProtectedRoute({ allowedRoles, children }) {\r\n//   const token = localStorage.getItem(\"token\");\r\n//   const role = localStorage.getItem(\"role\");\r\n\r\n//   // Not logged in → send to login\r\n//   if (!token) {\r\n//     return <Navigate to=\"/login\" replace />;\r\n//   }\r\n  \r\n\r\n//   // Role is not allowed → send to its dashboard\r\n//   if (!allowedRoles.includes(role)) {\r\n//     if (role === \"admin\") return <Navigate to=\"/admin\" replace />;\r\n//     if (role === \"student\") return <Navigate to=\"/student\" replace />;\r\n//   }\r\n\r\n//   return children;\r\n// }\r\n\r\n\r\nimport React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nexport default function ProtectedRoute({ children, allowedRoles }) {\r\n  const token = localStorage.getItem(\"token\");\r\n  const role = localStorage.getItem(\"role\");\r\n\r\n  // Agar token nahi hai → login pe bhejo\r\n  if (!token) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  // Agar allowedRoles pass kiye gaye hain aur user ka role match nahi karta\r\n  if (allowedRoles && !allowedRoles.includes(role)) {\r\n    // Admin ho to admin dashboard, student ho to student dashboard\r\n    const redirectPath = role === \"admin\" ? \"/admin\" : \"/student\";\r\n    return <Navigate to={redirectPath} replace />;\r\n  }\r\n\r\n  // Sab theek hai → page dikhao\r\n  return <>{children}</>;\r\n}"],"mappings":";AAAA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAGA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE5C,eAAe,SAASC,cAAcA,CAAC;EAAEC,QAAQ;EAAEC;AAAa,CAAC,EAAE;EACjE,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,IAAI,GAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;;EAEzC;EACA,IAAI,CAACF,KAAK,EAAE;IACV,oBAAON,OAAA,CAACF,QAAQ;MAACY,EAAE,EAAC,QAAQ;MAACC,OAAO;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACzC;;EAEA;EACA,IAAIV,YAAY,IAAI,CAACA,YAAY,CAACW,QAAQ,CAACP,IAAI,CAAC,EAAE;IAChD;IACA,MAAMQ,YAAY,GAAGR,IAAI,KAAK,OAAO,GAAG,QAAQ,GAAG,UAAU;IAC7D,oBAAOT,OAAA,CAACF,QAAQ;MAACY,EAAE,EAAEO,YAAa;MAACN,OAAO;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC/C;;EAEA;EACA,oBAAOf,OAAA,CAAAE,SAAA;IAAAE,QAAA,EAAGA;EAAQ,gBAAG,CAAC;AACxB;AAACc,EAAA,GAlBuBf,cAAc;AAAA,IAAAe,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}